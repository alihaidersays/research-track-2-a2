<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rt2_assignment2: scripts/go_to_point_action.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rt2_assignment2
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Package for the Assignment II of the Research Track II course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">go_to_point_action.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains code for 'go_to_point' node.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgo__to__point__action_1_1_position_action.html">go_to_point_action.PositionAction</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class defines the 'go_to_point' action service through which 'state_machine' node assign it goals.  <a href="classgo__to__point__action_1_1_position_action.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:affe1389e38557b69ee71adea85b846b2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#affe1389e38557b69ee71adea85b846b2">go_to_point_action.clbk_odom</a> (msg)</td></tr>
<tr class="memdesc:affe1389e38557b69ee71adea85b846b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a callback function of the subscriber 'sub_odom' for the ROS topic '/odom'.  <a href="go__to__point__action_8py.html#affe1389e38557b69ee71adea85b846b2">More...</a><br /></td></tr>
<tr class="separator:affe1389e38557b69ee71adea85b846b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbecf7f8f9969539cfb70d9430a41fd2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#afbecf7f8f9969539cfb70d9430a41fd2">go_to_point_action.clbk_ctrl_speed</a> (msg)</td></tr>
<tr class="memdesc:afbecf7f8f9969539cfb70d9430a41fd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a callback function of the subscriber 'ctrl_speed' for the ROS topic '/odom'.  <a href="go__to__point__action_8py.html#afbecf7f8f9969539cfb70d9430a41fd2">More...</a><br /></td></tr>
<tr class="separator:afbecf7f8f9969539cfb70d9430a41fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ad2629ed9ffbd5d9b7ca9c540d932a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#ab7ad2629ed9ffbd5d9b7ca9c540d932a">go_to_point_action.change_state</a> (state)</td></tr>
<tr class="memdesc:ab7ad2629ed9ffbd5d9b7ca9c540d932a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a function used for changing the value of global variable 'state_'.  <a href="go__to__point__action_8py.html#ab7ad2629ed9ffbd5d9b7ca9c540d932a">More...</a><br /></td></tr>
<tr class="separator:ab7ad2629ed9ffbd5d9b7ca9c540d932a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bca87c6d45ca63d3152a4e8def72e2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a0bca87c6d45ca63d3152a4e8def72e2a">go_to_point_action.normalize_angle</a> (angle)</td></tr>
<tr class="memdesc:a0bca87c6d45ca63d3152a4e8def72e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a function used for normalizing the orientation angle of robot from goal orientation.  <a href="go__to__point__action_8py.html#a0bca87c6d45ca63d3152a4e8def72e2a">More...</a><br /></td></tr>
<tr class="separator:a0bca87c6d45ca63d3152a4e8def72e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e7fef09d30f59bb91061f4b91f87e6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a18e7fef09d30f59bb91061f4b91f87e6">go_to_point_action.fix_yaw</a> (des_pos)</td></tr>
<tr class="memdesc:a18e7fef09d30f59bb91061f4b91f87e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function adjust the yaw of the robot.  <a href="go__to__point__action_8py.html#a18e7fef09d30f59bb91061f4b91f87e6">More...</a><br /></td></tr>
<tr class="separator:a18e7fef09d30f59bb91061f4b91f87e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c35034eab524fbff7d05d80fd65ede4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a7c35034eab524fbff7d05d80fd65ede4">go_to_point_action.go_straight_ahead</a> (des_pos)</td></tr>
<tr class="memdesc:a7c35034eab524fbff7d05d80fd65ede4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the robot's linear velocity.  <a href="go__to__point__action_8py.html#a7c35034eab524fbff7d05d80fd65ede4">More...</a><br /></td></tr>
<tr class="separator:a7c35034eab524fbff7d05d80fd65ede4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068188471dd5fc0ed3ea371e3a32338a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a068188471dd5fc0ed3ea371e3a32338a">go_to_point_action.fix_final_yaw</a> (des_yaw)</td></tr>
<tr class="memdesc:a068188471dd5fc0ed3ea371e3a32338a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function adjust the final yaw of the robot.  <a href="go__to__point__action_8py.html#a068188471dd5fc0ed3ea371e3a32338a">More...</a><br /></td></tr>
<tr class="separator:a068188471dd5fc0ed3ea371e3a32338a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fec1cd57aebd720828b5bab962048db"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a9fec1cd57aebd720828b5bab962048db">go_to_point_action.done</a> ()</td></tr>
<tr class="memdesc:a9fec1cd57aebd720828b5bab962048db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is function makes the linear and angular velocities of robot to zero.  <a href="go__to__point__action_8py.html#a9fec1cd57aebd720828b5bab962048db">More...</a><br /></td></tr>
<tr class="separator:a9fec1cd57aebd720828b5bab962048db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33cfc08b34e07f53ddda67d2ab551ba1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a33cfc08b34e07f53ddda67d2ab551ba1">go_to_point_action.main</a> ()</td></tr>
<tr class="memdesc:a33cfc08b34e07f53ddda67d2ab551ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a main function of the ROS node 'go_to_point'.  <a href="go__to__point__action_8py.html#a33cfc08b34e07f53ddda67d2ab551ba1">More...</a><br /></td></tr>
<tr class="separator:a33cfc08b34e07f53ddda67d2ab551ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afd83e8a50982500cb1aea028fa6bd8fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#afd83e8a50982500cb1aea028fa6bd8fb">go_to_point_action.position_</a> = Point()</td></tr>
<tr class="memdesc:afd83e8a50982500cb1aea028fa6bd8fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable with data structure type 'Point' used for storing the current position of robot.  <a href="go__to__point__action_8py.html#afd83e8a50982500cb1aea028fa6bd8fb">More...</a><br /></td></tr>
<tr class="separator:afd83e8a50982500cb1aea028fa6bd8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e81c61a8a01745a08f175577455bcb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a7e81c61a8a01745a08f175577455bcb4">go_to_point_action.yaw_</a> = 0</td></tr>
<tr class="memdesc:a7e81c61a8a01745a08f175577455bcb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for storing robot's yaw value.  <a href="go__to__point__action_8py.html#a7e81c61a8a01745a08f175577455bcb4">More...</a><br /></td></tr>
<tr class="separator:a7e81c61a8a01745a08f175577455bcb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62dc273bd86649b350cb6c1aff4814e"><td class="memItemLeft" align="right" valign="top"><a id="ac62dc273bd86649b350cb6c1aff4814e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#ac62dc273bd86649b350cb6c1aff4814e">go_to_point_action.speed_factor_linear_</a> = 0</td></tr>
<tr class="memdesc:ac62dc273bd86649b350cb6c1aff4814e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for storing the linear speed factor. <br /></td></tr>
<tr class="separator:ac62dc273bd86649b350cb6c1aff4814e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c711a73524379c2c7051e661b90e25"><td class="memItemLeft" align="right" valign="top"><a id="ab7c711a73524379c2c7051e661b90e25"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#ab7c711a73524379c2c7051e661b90e25">go_to_point_action.speed_factor_angular_</a> = 0</td></tr>
<tr class="memdesc:ab7c711a73524379c2c7051e661b90e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for storing the angular speed factor. <br /></td></tr>
<tr class="separator:ab7c711a73524379c2c7051e661b90e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d09e37099932459bc3e4146007cce86"><td class="memItemLeft" align="right" valign="top"><a id="a6d09e37099932459bc3e4146007cce86"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a6d09e37099932459bc3e4146007cce86">go_to_point_action.pub_</a> = None</td></tr>
<tr class="memdesc:a6d09e37099932459bc3e4146007cce86"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for initializing publisher for topic '/cmd_vel'. <br /></td></tr>
<tr class="separator:a6d09e37099932459bc3e4146007cce86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe65db40d1e74e9aed11a5fffc85d0c"><td class="memItemLeft" align="right" valign="top"><a id="aefe65db40d1e74e9aed11a5fffc85d0c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#aefe65db40d1e74e9aed11a5fffc85d0c">go_to_point_action.pub_succ_status_</a> = None</td></tr>
<tr class="memdesc:aefe65db40d1e74e9aed11a5fffc85d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for initializing publisher for topic '/success_goals'. <br /></td></tr>
<tr class="separator:aefe65db40d1e74e9aed11a5fffc85d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8817638994ed9d1197c3434128444e04"><td class="memItemLeft" align="right" valign="top"><a id="a8817638994ed9d1197c3434128444e04"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a8817638994ed9d1197c3434128444e04">go_to_point_action.pub_cancel_status_</a> = None</td></tr>
<tr class="memdesc:a8817638994ed9d1197c3434128444e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for initializing publisher for topic '/cancel_goals'. <br /></td></tr>
<tr class="separator:a8817638994ed9d1197c3434128444e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1588aac776a5c1be12d47e52101192"><td class="memItemLeft" align="right" valign="top"><a id="a1c1588aac776a5c1be12d47e52101192"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a1c1588aac776a5c1be12d47e52101192">go_to_point_action.pub_task_time_</a> = None</td></tr>
<tr class="memdesc:a1c1588aac776a5c1be12d47e52101192"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for initializing publisher for topic '/task_time'. <br /></td></tr>
<tr class="separator:a1c1588aac776a5c1be12d47e52101192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b3bfd8603c6a03f3a5bad51cd309e7"><td class="memItemLeft" align="right" valign="top"><a id="a71b3bfd8603c6a03f3a5bad51cd309e7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a71b3bfd8603c6a03f3a5bad51cd309e7">go_to_point_action.no_successful_target_</a> = 0</td></tr>
<tr class="memdesc:a71b3bfd8603c6a03f3a5bad51cd309e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for storing the total number of successful goals. <br /></td></tr>
<tr class="separator:a71b3bfd8603c6a03f3a5bad51cd309e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c927ae3b74fd2970655cde771020a00"><td class="memItemLeft" align="right" valign="top"><a id="a1c927ae3b74fd2970655cde771020a00"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a1c927ae3b74fd2970655cde771020a00">go_to_point_action.no_cancelled_target_</a> = 0</td></tr>
<tr class="memdesc:a1c927ae3b74fd2970655cde771020a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable for storing the total number of cancelled goals. <br /></td></tr>
<tr class="separator:a1c927ae3b74fd2970655cde771020a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b21cc9247a4baf4aff2ca16c237f53"><td class="memItemLeft" align="right" valign="top"><a id="a68b21cc9247a4baf4aff2ca16c237f53"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a68b21cc9247a4baf4aff2ca16c237f53">go_to_point_action.t_array</a> = Int32MultiArray()</td></tr>
<tr class="memdesc:a68b21cc9247a4baf4aff2ca16c237f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable with data structure type 'Int32MultiArray()' for storing the time taken by the robot to complete the tasks. <br /></td></tr>
<tr class="separator:a68b21cc9247a4baf4aff2ca16c237f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d0c1c8c5e359fcd5f1901e25a86a2d"><td class="memItemLeft" align="right" valign="top"><a id="a99d0c1c8c5e359fcd5f1901e25a86a2d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a99d0c1c8c5e359fcd5f1901e25a86a2d">go_to_point_action.yaw_precision_</a> = math.pi / 9</td></tr>
<tr class="memdesc:a99d0c1c8c5e359fcd5f1901e25a86a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable with datatype float, used as a parameter for robot's yaw precision. <br /></td></tr>
<tr class="separator:a99d0c1c8c5e359fcd5f1901e25a86a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaede468f4753c2c476474b35b81754c"><td class="memItemLeft" align="right" valign="top"><a id="aeaede468f4753c2c476474b35b81754c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#aeaede468f4753c2c476474b35b81754c">go_to_point_action.yaw_precision_2_</a> = math.pi / 90</td></tr>
<tr class="memdesc:aeaede468f4753c2c476474b35b81754c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable with datatype float, also used as a parameter for robot's yaw precision. <br /></td></tr>
<tr class="separator:aeaede468f4753c2c476474b35b81754c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a3cd0c013f3c1712758e04b4bc91f4"><td class="memItemLeft" align="right" valign="top"><a id="a01a3cd0c013f3c1712758e04b4bc91f4"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a01a3cd0c013f3c1712758e04b4bc91f4">go_to_point_action.dist_precision_</a> = 0.1</td></tr>
<tr class="memdesc:a01a3cd0c013f3c1712758e04b4bc91f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable with datatype float used as a parameter for robot's distance precision. <br /></td></tr>
<tr class="separator:a01a3cd0c013f3c1712758e04b4bc91f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a9de26fa4f88312f9cc4a8ecedb369"><td class="memItemLeft" align="right" valign="top"><a id="a67a9de26fa4f88312f9cc4a8ecedb369"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a67a9de26fa4f88312f9cc4a8ecedb369">go_to_point_action.kp_a</a> = -3.0</td></tr>
<tr class="memdesc:a67a9de26fa4f88312f9cc4a8ecedb369"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable used as a parameter for generating robot's new velocities. <br /></td></tr>
<tr class="separator:a67a9de26fa4f88312f9cc4a8ecedb369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd565e807f177f678d6a12d504d01e60"><td class="memItemLeft" align="right" valign="top"><a id="acd565e807f177f678d6a12d504d01e60"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#acd565e807f177f678d6a12d504d01e60">go_to_point_action.kp_d</a> = 0.2</td></tr>
<tr class="memdesc:acd565e807f177f678d6a12d504d01e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable used as a parameter for generating robot's new velocities. <br /></td></tr>
<tr class="separator:acd565e807f177f678d6a12d504d01e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb07d74a9d8087eb04da488c77c118c"><td class="memItemLeft" align="right" valign="top"><a id="a9cb07d74a9d8087eb04da488c77c118c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a9cb07d74a9d8087eb04da488c77c118c">go_to_point_action.ub_a</a> = 0.6</td></tr>
<tr class="memdesc:a9cb07d74a9d8087eb04da488c77c118c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable used as a parameter for generating robot's new velocities. <br /></td></tr>
<tr class="separator:a9cb07d74a9d8087eb04da488c77c118c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156fcdad5d5c28042b46d45d323a9fac"><td class="memItemLeft" align="right" valign="top"><a id="a156fcdad5d5c28042b46d45d323a9fac"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a156fcdad5d5c28042b46d45d323a9fac">go_to_point_action.lb_a</a> = -0.5</td></tr>
<tr class="memdesc:a156fcdad5d5c28042b46d45d323a9fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable used as a parameter for generating robot's new velocities. <br /></td></tr>
<tr class="separator:a156fcdad5d5c28042b46d45d323a9fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a9d1a5cc9bd5e985d6ad5247ac985d"><td class="memItemLeft" align="right" valign="top"><a id="a05a9d1a5cc9bd5e985d6ad5247ac985d"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="go__to__point__action_8py.html#a05a9d1a5cc9bd5e985d6ad5247ac985d">go_to_point_action.ub_d</a> = 0.6</td></tr>
<tr class="memdesc:a05a9d1a5cc9bd5e985d6ad5247ac985d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global variable used as a parameter for generating robot's new velocities. <br /></td></tr>
<tr class="separator:a05a9d1a5cc9bd5e985d6ad5247ac985d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains code for 'go_to_point' node. </p>
<dl class="section author"><dt>Author</dt><dd>Muhammad Ali Haider Dar </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>09/07/2023</dd></dl>
<p>Subscribes : <br  />
 ° /odom ° /control_speed</p>
<p>Publishers : <br  />
 ° /odom ° /control_speed ° /cancel_goals ° /success_goals</p>
<p>Service : <br  />
 ° /go_to_point</p>
<p>This node receives the desired goal coordinates through an action service request, specifically '/go_to_point', from the 'state_machine' node. Upon receiving the goal coordinates, it calculates the necessary linear and angular velocities required for the robot to reach the target position. These velocities are then published on the 'cmd_vel' topic. The '/go_to_point' action service allows for the cancellation of goals at any point during execution. To accommodate this functionality, a goal preemption scheme has been implemented, which is activated when the user cancels a goal. Additionally, the node keeps track of the number of canceled goals within this scheme. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab7ad2629ed9ffbd5d9b7ca9c540d932a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ad2629ed9ffbd5d9b7ca9c540d932a">&#9670;&nbsp;</a></span>change_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.change_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a function used for changing the value of global variable 'state_'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>argument with data type 'int ' <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This function takes the argument value and assigned it to the global variable 'state_'. </p>

</div>
</div>
<a id="afbecf7f8f9969539cfb70d9430a41fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbecf7f8f9969539cfb70d9430a41fd2">&#9670;&nbsp;</a></span>clbk_ctrl_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.clbk_ctrl_speed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a callback function of the subscriber 'ctrl_speed' for the ROS topic '/odom'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>argument with data structure type 'Twist ' <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none]</dd></dl>
<p>This function takes the velocity factors value coming from the '/control_speed' topic and then store them in the global variables 'speed_factor_linear_' and 'speed_factor_angular_. <br  />
 </p>

</div>
</div>
<a id="affe1389e38557b69ee71adea85b846b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe1389e38557b69ee71adea85b846b2">&#9670;&nbsp;</a></span>clbk_odom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.clbk_odom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a callback function of the subscriber 'sub_odom' for the ROS topic '/odom'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>argument with data structure type Odometry <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none]</dd></dl>
<p>This function takes the robot's odometry data coming from the '/odom' topic, extract the position and yaw and then store it in the global variables 'position_' and 'yaw_'. </p>

</div>
</div>
<a id="a9fec1cd57aebd720828b5bab962048db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fec1cd57aebd720828b5bab962048db">&#9670;&nbsp;</a></span>done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is function makes the linear and angular velocities of robot to zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[none]</td><td><br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This is function makes the linear and angular velocities to zero. Generally it use when robot has successfully reach the target or when user have requested it to stop. <br  />
 </p>

</div>
</div>
<a id="a068188471dd5fc0ed3ea371e3a32338a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068188471dd5fc0ed3ea371e3a32338a">&#9670;&nbsp;</a></span>fix_final_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.fix_final_yaw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_yaw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function adjust the final yaw of the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_yaw</td><td>argument with datatype 'float'. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This function takes the desired yaw data as argument. Based on the 'yaw error' calculates the final angular velocity require to match goal orientation and then publishes it in the topic 'cmd_vel'. </p>

</div>
</div>
<a id="a18e7fef09d30f59bb91061f4b91f87e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e7fef09d30f59bb91061f4b91f87e6">&#9670;&nbsp;</a></span>fix_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.fix_yaw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function adjust the yaw of the robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_pos</td><td>argument with datatype 'float'. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This function takes the desired position data as argument. Based on the 'yaw error' calculates the required angular velocity and then publishes it in the topic 'cmd_vel'. </p>

</div>
</div>
<a id="a7c35034eab524fbff7d05d80fd65ede4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c35034eab524fbff7d05d80fd65ede4">&#9670;&nbsp;</a></span>go_straight_ahead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.go_straight_ahead </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>des_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the robot's linear velocity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des_pos</td><td>argument with datatype 'float'. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This function takes the desired position data as argument. Calculate the 'desired yaw', 'yaw error' and 'position error' and based on these values calculates the required linear velocity and then publishes it in the topic 'cmd_vel'. </p>

</div>
</div>
<a id="a33cfc08b34e07f53ddda67d2ab551ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33cfc08b34e07f53ddda67d2ab551ba1">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a main function of the ROS node 'go_to_point'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[none]</td><td><br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[none].</dd></dl>
<p>This function is a 'main' function of 'go_to_point' node. It initializes the subscribers for '/odom' and '/control_speed' topics, publishers for '/cmd_vel', 'success_goals', '/cancel_goal', 'task_time' topics and lastly call the PositionAction service. <br  />
 </p>

</div>
</div>
<a id="a0bca87c6d45ca63d3152a4e8def72e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bca87c6d45ca63d3152a4e8def72e2a">&#9670;&nbsp;</a></span>normalize_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def go_to_point_action.normalize_angle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>angle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a function used for normalizing the orientation angle of robot from goal orientation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angle</td><td>argument with data type 'float' <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normalized angle value.</dd></dl>
<p>This is a function used for normalizing the orientation angle of robot from goal orientation. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afd83e8a50982500cb1aea028fa6bd8fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd83e8a50982500cb1aea028fa6bd8fb">&#9670;&nbsp;</a></span>position_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int go_to_point_action.position_ = Point()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A global variable with data structure type 'Point' used for storing the current position of robot. </p>
<p>Initializing global variable 'position_' with 0. </p>

</div>
</div>
<a id="a7e81c61a8a01745a08f175577455bcb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e81c61a8a01745a08f175577455bcb4">&#9670;&nbsp;</a></span>yaw_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int go_to_point_action.yaw_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A global variable for storing robot's yaw value. </p>
<p><br  />
 </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
